<ion-header>
  <ion-toolbar>
    <ion-title>Your Cart</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid *ngIf="allOrdersCombined.length > 0 && isOrderUnplaced">
    <ion-row *ngIf="selectedShopName">
      <ion-col>
        <ion-item>
        <ion-label style="font-size: 14px;text-align: center;">
          {{selectedShopName}}
        </ion-label>
      </ion-item>
      </ion-col>
    </ion-row>
    <!-- <ion-row>
      <ion-col> -->
        <!-- <ion-label>Choose Your Delivery Slot</ion-label> -->
        <!-- <ion-item lines="none">
            <ion-label>Delivery Date</ion-label>
            <ion-datetime value="1990-02-19" placeholder="Select Date"></ion-datetime>
          </ion-item>
          <ion-item>
              <ion-label>Delivery Time</ion-label>
              <ion-datetime display-format="h:mm A" picker-format="h:mm A" value="1990-02-19T07:43Z"></ion-datetime>
            </ion-item> -->
            <!-- <ion-item>
              <ion-label>Delivery Date</ion-label>
              <ion-datetime display-format="MMM DD YYYY"
              picker-format="YY MMM DD"
              [min]=""
              [max]=""
              ngModel
              name="deliveryDate"
              required
              #deliveryDate="ngModel"></ion-datetime>
            </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="3">
          <ion-item>
              <ion-label>Delivery Time</ion-label>
              <ion-datetime display-format="hh A"
              picker-format="hh A"
              [min]=""
              [max]=""
              ngModel
              name="deliveryDate"
              required></ion-datetime>
            </ion-item>
        </ion-col>
        <ion-col size-sm="3">
            <ion-item>
                <ion-label>Delivery Time</ion-label>
                <ion-datetime display-format="hh A"
                picker-format="hh A"
                [min]=""
                [max]=""
                ngModel
                name="deliveryDate"
                required></ion-datetime>
              </ion-item>
          </ion-col>
    </ion-row>-->
    <ion-row> 
      <ion-col class="ordered_items">
        <ion-virtual-scroll [items]="allOrdersCombined" approxItemHeight="70px">
          <ion-item *virtualItem="let product" lines="none">
            <ion-label style="font-family: fantasy;">
              <h5 class="item_name">{{ product.itemName }}</h5>
              <ion-text *ngIf="product.orderType !== 'SELECT'" style="font-size: 10px;">(Custom Order)</ion-text>
              <ion-text class="space_left" *ngIf="product.orderType === 'SELECT'">
                &#8377;{{ product.itemDiscountedRate }}</ion-text>
              <ion-text class="space_dot" *ngIf="product.orderType === 'SELECT'">&#8226;</ion-text>
              <ion-text class="space_left_delivery" *ngIf="product.orderType === 'SELECT'">{{
                product.itemWeight
              }} {{product.itemUnit}}</ion-text>
              <ion-text class="space_left_delivery" *ngIf="product.orderType !== 'SELECT'">
                {{product.itemCount}} {{product.itemUnit}}</ion-text>
            </ion-label>
            <div class="custom_add_sub_item_quantity_section">
              <ion-text style="font-family: fantasy; font-weight: bold;font-size: 18px;" *ngIf="product.orderType === 'SELECT'">{{ product.itemCount }} X &#8377;
                {{ product.itemDiscountedRate }} = &#8377;
                {{ product.totalPrice }}
              </ion-text>
              <ion-text style="font-family: fantasy; font-weight: bold;font-size: 10px;" 
              *ngIf="product.orderType !== 'SELECT'">Estimated Price to be sent
                  </ion-text>
            </div>
          </ion-item>
        </ion-virtual-scroll>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid *ngIf="allOrdersCombined.length === 0 || !isOrderUnplaced">
    <ion-row>
      <ion-col>
        <ion-text>Please select some item. We would love to serve you.</ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer *ngIf="allOrdersCombined.length > 0 && isOrderUnplaced">
  <ion-toolbar>
      <ion-grid>
        <ion-row class="ion-no-padding" style="align-items: center;">
          <ion-col size="6">
            <ion-label *ngIf="hasCustomOrders">Estimated Total : &#8377; {{ grandTotal }}</ion-label>
            <ion-label *ngIf="!hasCustomOrders">Grand Total : &#8377; {{ grandTotal }}</ion-label>
          </ion-col>
          <ion-col class="confirm_button_col" size="6">
            <ion-button
              color="success"
              size="small"
              (click)="placeOrder()">
              <ion-label>Place Order</ion-label>
              <ion-icon name="checkmark-circle-outline" slot="end"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
  </ion-toolbar>
</ion-footer>
